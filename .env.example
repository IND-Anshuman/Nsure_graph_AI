# =============================================================================
# API KEYS (REQUIRED - Choose at least one)
# =============================================================================
# Google Gemini API Key (recommended)
GOOGLE_API_KEY=your_google_api_key_here

# Gemini Model Selection
# Available models: gemini-2.0-flash-exp, gemini-1.5-pro, gemini-1.5-flash, gemini-1.0-pro
GEMINI_MODEL=gemini-2.0-flash-exp

# OpenAI API Key (alternative or fallback)
OPENAI_API_KEY=your_openai_api_key_here


# =============================================================================
# API SERVER CONFIGURATION
# =============================================================================
# Flask API server settings
KG_API_HOST=127.0.0.1
KG_API_PORT=5000
KG_API_DEBUG=0

# API cache and upload directories
KG_API_CACHE_DIR=outputs/api_cache
KG_API_UPLOAD_DIR=outputs/api_uploads
KG_API_GRAPHS_DIR=outputs/api_graphs

# Allow local file paths (0=disabled, 1=enabled)
KG_ALLOW_LOCAL_PATH=0


# =============================================================================
# EMBEDDING CONFIGURATION
# =============================================================================
# Embedding model for semantic search
KG_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
KG_EMBEDDING_DIM=384
KG_EMBEDDING_BATCH_SIZE=64
KG_EMBEDDING_LOCAL_ONLY=1
KG_EMBEDDING_SHOW_PROGRESS=0

# Embedding cache backend (sqlite or json)
KG_EMBEDDING_CACHE_BACKEND=sqlite
KG_EMBEDDING_SQLITE_PATH=cache_embeddings.sqlite3


# =============================================================================
# DOCUMENT PROCESSING
# =============================================================================
# Document processing settings
KG_DOC_WORKERS=0
KG_SOURCES_CACHE_DIR=outputs/sources_cache

# SpaCy NLP settings
KG_SPACY_N_PROCESS=1
KG_SPACY_BATCH_SIZE=0

# Sentence processing
KG_MIN_SENTENCE_CHARS=30
KG_SENTENCE_DEDUP_OVERLAP=0.9


# =============================================================================
# ENTITY & RELATION EXTRACTION
# =============================================================================
# Entity merging
KG_DISABLE_ENTITY_MERGE=0
KG_ENTITY_MERGE_THRESHOLD=0.99


# =============================================================================
# COMMUNITY DETECTION
# =============================================================================
# Community detection settings
KG_COMMUNITY_MIN_SIZE=5
KG_COMMUNITY_MAX_LEVELS=
KG_COMMUNITY_ENTITY_SAMPLE=6
KG_MIN_COMMUNITY_NODE_SIZE=3

# Community detection method and resolution
KG_COMMUNITY_METHOD=auto
KG_COMMUNITY_RESOLUTION=1.0
KG_COMMUNITY_MIN_EDGE_WEIGHT=0.0
KG_COMMUNITY_MODULARITY_FLOOR=0.000001
KG_SKIP_DEGENERATE_COMMUNITY_LEVELS=1

# Community hub downweighting
KG_COMMUNITY_HUB_DOWNWEIGHT=1
KG_COMMUNITY_HUB_DEGREE_PCTL=0.98
KG_COMMUNITY_HUB_PENALTY=0.2

# Community fragment penalty
KG_COMMUNITY_FRAGMENT_PENALTY=0.08

# Community domain inclusion
KG_COMMUNITY_INCLUDE_DOMAIN=0

# Semantic partitioning
KG_SEMANTIC_PART_COMMUNITIES=1

# Community summaries
KG_DISABLE_COMMUNITY_SUMMARIES=0
KG_COMMUNITY_SUMMARY_WORKERS=1
KG_COMMUNITY_SUMMARY_MAX_SENTENCES=12


# =============================================================================
# RETRIEVAL & SEARCH
# =============================================================================
# Hybrid search settings
KG_FORCE_CTX_PER_ARTICLE=6
KG_FORCE_REL_PER_ARTICLE=20

# Retrieval parameters
KG_TOP_N_SEMANTIC=20
KG_TOP_K_FINAL=40
KG_RERANK_TOP_K=25


# =============================================================================
# Q&A PROCESSING
# =============================================================================
# Parallel question answering
KG_QA_MAX_WORKERS=2
KG_QA_WORKERS=2


# =============================================================================
# NEO4J (OPTIONAL)
# =============================================================================
# Neo4j database connection (optional, set skip_neo4j=true in API to disable)
NEO4J_URI=bolt://127.0.0.1:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=
